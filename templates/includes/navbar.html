{% load static %}
<style>
   
    @font-face {
        font-family: MyCustomFont;
        src: url("{% static 'fonts/Peyda-Medium[@fontbazi].ttf' %}") format("truetype");
        font-weight: normal;
        font-style: normal;
    }

    .nav-item.nav-link {
        font-family: MyCustomFont, sans-serif;
        font-size: 16px;
        color: #333; /* رنگ پیش‌فرض */
        transition: color 0.3s; /* تغییر رنگ به صورت انیمیشن */
    }
    
    .text-dark.m-0{
        font-family: MyCustomFont, sans-serif;
    }
    
</style>
<!-- Navbar Start -->
<div class="container-fluid bg-dark mb-30">
    <div class="row px-xl-5">
        <div class="col-lg-3 d-none d-lg-block">
            <a class="btn d-flex align-items-center justify-content-between bg-primary w-100" data-toggle="collapse"
               href="#navbar-vertical" style="height: 65px; padding: 0 30px;">
                <h6 class="text-dark m-0"><i class="fa fa-bars mr-2"></i>Categories</h6>
                <i class="fa fa-angle-down text-dark"></i>
            </a>
            <nav class="collapse position-absolute navbar navbar-vertical navbar-light align-items-start p-0 bg-light"
                 id="navbar-vertical" style="width: calc(100% - 30px); z-index: 999;">
                <div class="navbar-nav w-100">
                    <div class="nav-item dropdown dropright">
                        <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Dresses <i
                                class="fa fa-angle-right float-right mt-1"></i></a>
                        <div class="dropdown-menu position-absolute rounded-0 border-0 m-0">
                            <a href="" class="dropdown-item">Men's Dresses</a>
                            <a href="" class="dropdown-item">Women's Dresses</a>
                            <a href="" class="dropdown-item">Baby's Dresses</a>
                        </div>
                    </div>
                    <a href="" class="nav-item nav-link">Shirts</a>
                    <a href="" class="nav-item nav-link">Jeans</a>
                    <a href="" class="nav-item nav-link">Swimwear</a>
                    <a href="" class="nav-item nav-link">Sleepwear</a>
                    <a href="" class="nav-item nav-link">Sportswear</a>
                    <a href="" class="nav-item nav-link">Jumpsuits</a>
                    <a href="" class="nav-item nav-link">Blazers</a>
                    <a href="" class="nav-item nav-link">Jackets</a>
                    <a href="" class="nav-item nav-link">Shoes</a>
                </div>
            </nav>
        </div>
        <div class="col-lg-9">
            <nav class="navbar navbar-expand-lg bg-dark navbar-dark py-3 py-lg-0 px-0">
                <a href="" class="text-decoration-none d-block d-lg-none">
                    <span class="h1 text-uppercase text-dark bg-light px-2">Multi</span>
                    <span class="h1 text-uppercase text-light bg-primary px-2 ml-n1">Shop</span>
                </a>
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbarCollapse">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse justify-content-between" id="navbarCollapse">
                    <div class="navbar-nav mr-auto py-0">
                        <a href="{% url 'home:home' %}" class="nav-item nav-link">Home</a>
                        <a href="{% url 'product:product_list' %}" class="nav-item nav-link">Shop</a>
                        <a href="{% url 'contactus:contactus' %}" class="nav-item nav-link">Contact</a>
                        <a href="" class="nav-item nav-link">About</a>
                    </div>
                </div>
                <div class="navbar-nav ml-auto py-0 d-none d-lg-block">
                    <a href="" class="btn px-0">
                        <i class="fas fa-heart text-primary"></i>
                        <span class="badge text-secondary border border-secondary rounded-circle"
                              style="padding-bottom: 2px;">0</span>
                    </a>
                    <a href="{% url 'cart:cart_detail' %}" class="btn px-0 ml-3">
                        <i class="fas fa-shopping-cart text-primary"></i>
                        {% if cart_item_count > 0 %}
                            <span class="badge text-secondary border border-secondary rounded-circle"
                                  style="padding-bottom: 2px;">{{ cart_item_count }}</span>
                        {% endif %}
                    </a>
                </div>
        </div>
        </nav>
    </div>
</div>
</div>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        // همه لینک‌ها با کلاس 'nav-link'
        const navLinks = document.querySelectorAll('.navbar-nav .nav-link');
        
        // دریافت لینک فعال از localStorage
        const activeLink = localStorage.getItem('activeLink');

        // اگر لینک فعال وجود دارد، به آن کلاس 'active' اضافه کن
        if (activeLink) {
            document.querySelector(`.navbar-nav .nav-link[href="${activeLink}"]`).classList.add('active');
        }

        // اضافه کردن event listener به لینک‌ها
        navLinks.forEach(link => {
            link.addEventListener('click', function () {
                // حذف کلاس 'active' از همه لینک‌ها
                navLinks.forEach(l => l.classList.remove('active'));

                // اضافه کردن کلاس 'active' به لینک کلیک‌شده
                this.classList.add('active');

                // ذخیره href لینک فعال در localStorage
                localStorage.setItem('activeLink', this.getAttribute('href'));
            });
        });
    });
</script>

<!-- Navbar End -->